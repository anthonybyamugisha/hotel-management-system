<!DOCTYPE html>
{% load static %}
<html>
<head>
    <title>Hotel Management Reports</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <h1>üè® Hotel Management Reports</h1>
    </header>
    
    <div class="container">
        <p class="description">
            Access detailed reports and analytics to make informed business decisions. 
            All reports are generated in real-time from our database.
        </p>
        
        <div class="report-grid">
            <div class="report-card">
                <h2 class="report-title">General Report</h2>
                <p class="report-description">Overview of all hotel operations, staff, guests, and bookings.</p>
                <a href="{% url 'reports:general_report' %}" class="btn">View Report</a>
            </div>
            
            <div class="report-card">
                <h2 class="report-title">Room Occupancy</h2>
                <p class="report-description">Detailed analysis of room utilization and occupancy rates.</p>
                <a href="{% url 'reports:room_occupancy_report' %}" class="btn">View Report</a>
            </div>
            
            <div class="report-card">
                <h2 class="report-title">Staff Performance</h2>
                <p class="report-description">Evaluate staff productivity and performance metrics.</p>
                <a href="{% url 'reports:staff_performance' %}" class="btn">View Report</a>
            </div>
            
            <div class="report-card">
                <h2 class="report-title">Revenue Collection</h2>
                <p class="report-description">Monthly financial performance and revenue tracking.</p>
                <a href="{% url 'reports:monthly_revenue_collection' %}" class="btn">View Report</a>
            </div>
            
            <div class="report-card">
                <h2 class="report-title">Outstanding Payments</h2>
                <p class="report-description">Track unpaid invoices and outstanding guest balances.</p>
                <a href="{% url 'reports:outstanding_payments_per_guest' %}" class="btn">View Report</a>
            </div>
            
            <div class="report-card">
                <h2 class="report-title">Top Paying Guests</h2>
                <p class="report-description">Identify and analyze our most valuable customers.</p>
                <a href="{% url 'reports:top_paying_guests' %}" class="btn">View Report</a>
            </div>
            
            <!-- Dashboard Card -->
            <div class="report-card">
                <h2 class="report-title">üìä Analytics Dashboard</h2>
                <p class="report-description">Interactive charts and visualizations for key hotel metrics.</p>
                <a href="{% url 'reports:dashboard' %}" class="btn btn-accent">View Dashboard</a>
            </div>
        </div>
        
        <!-- Dashboard with Charts -->
        <div class="dashboard">
            <h2>üìä Analytics Dashboard</h2>
            <div class="chart-container">
                <canvas id="revenueChart" width="400" height="200"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="occupancyChart" width="400" height="200"></canvas>
            </div>
            <div class="chart-container">
                <canvas id="roomTypeChart" width="400" height="200"></canvas>
            </div>
        </div>
    </div>
    
    <script src="{% static 'js/main.js' %}"></script>
    <script>
        // Sample data for charts (in a real application, this would come from your backend)
        document.addEventListener('DOMContentLoaded', function() {
            // Revenue Chart (Line Chart)
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            const revenueChart = new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Revenue ($)',
                        data: [12000, 19000, 15000, 18000, 22000, 25000],
                        borderColor: 'rgb(75, 192, 192)',
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        tension: 0.1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Monthly Revenue Trend'
                        }
                    }
                }
            });
            
            // Occupancy Chart (Bar Chart)
            const occupancyCtx = document.getElementById('occupancyChart').getContext('2d');
            const occupancyChart = new Chart(occupancyCtx, {
                type: 'bar',
                data: {
                    labels: ['Hotel A', 'Hotel B', 'Hotel C'],
                    datasets: [{
                        label: 'Occupancy Rate (%)',
                        data: [75, 82, 68],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 205, 86, 0.2)'
                        ],
                        borderColor: [
                            'rgb(255, 99, 132)',
                            'rgb(54, 162, 235)',
                            'rgb(255, 205, 86)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Hotel Occupancy Rates'
                        }
                    }
                }
            });
            
            // Room Types Chart (Pie Chart)
            const roomTypeCtx = document.getElementById('roomTypeChart').getContext('2d');
            const roomTypeChart = new Chart(roomTypeCtx, {
                type: 'pie',
                data: {
                    labels: ['Single', 'Double', 'Suite', 'Deluxe'],
                    datasets: [{
                        label: 'Room Types',
                        data: [30, 45, 15, 10],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.2)',
                            'rgba(54, 162, 235, 0.2)',
                            'rgba(255, 205, 86, 0.2)',
                            'rgba(75, 192, 192, 0.2)'
                        ],
                        borderColor: [
                            'rgb(255, 99, 132)',
                            'rgb(54, 162, 235)',
                            'rgb(255, 205, 86)',
                            'rgb(75, 192, 192)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Room Type Distribution'
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>